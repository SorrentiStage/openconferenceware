<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: RWikiBot::Bot</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript" 
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript" 
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript" 
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript" 
		charset="utf-8"></script>

</head>
<body class="class">
	
	<div id="metadata">
		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/rwikibot/bot.rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/rwikibot/bot.rb">lib/rwikibot/bot.rb</a></li>
					
					</ul>
				</div>
			</div>
			
			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#all_pages">all_pages</a></li>
					
					<li><a href="#log_events">log_events</a></li>
					
					<li><a href="#login">login</a></li>
					
					<li><a href="#new">new</a></li>
					
					<li><a href="#page">page</a></li>
					
					<li><a href="#recent_changes">recent_changes</a></li>
					
					<li><a href="#site_info">site_info</a></li>
					
					<li><a href="#user_info">user_info</a></li>
					
					<li><a href="#watchlist">watchlist</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><a class="include" href="Errors.html">RWikiBot::Errors</a></li>
				
				
				
					<li><a class="include" href="Utilities.html">RWikiBot::Utilities</a></li>
				
				
				
					<li><a class="include" href="Pages.html">RWikiBot::Pages</a></li>
				
				
				</ul>
			</div>
			
		</div>
	
		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../History.txt.html">History.txt</a></li>
				
					<li class="file"><a href="../Manifest.txt.html">Manifest.txt</a></li>
				
					<li class="file"><a href="../README.textile.html">README.textile</a></li>
				
					<li class="file"><a href="../Rakefile.html">Rakefile</a></li>
				
					<li class="file"><a href="../rwikibot.gemspec.html">rwikibot.gemspec</a></li>
				
					<li class="file"><a href="../spec.opts.html">spec.opts</a></li>
				
					<li class="file"><a href="../rspec.rake.html">rspec.rake</a></li>
				
				</ul>
			</div>
			
			
			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index 
					<span class="search-toggle"><img src="../images/find.png" 
						height="16" width="16" alt="[+]" 
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value="" 
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
				
					<li><a href="../RWikiBot.html">RWikiBot</a></li>
				
				
					<li><a href="../RWikiBot/Bot.html">RWikiBot::Bot</a></li>
				
				
					<li><a href="../RWikiBot/Errors.html">RWikiBot::Errors</a></li>
				
				
					<li><a href="../RWikiBot/Errors/LoginError.html">RWikiBot::Errors::LoginError</a></li>
				
				
					<li><a href="../RWikiBot/Errors/NotLoggedInError.html">RWikiBot::Errors::NotLoggedInError</a></li>
				
				
					<li><a href="../RWikiBot/Errors/RWikiBotError.html">RWikiBot::Errors::RWikiBotError</a></li>
				
				
					<li><a href="../RWikiBot/Errors/VersionTooLowError.html">RWikiBot::Errors::VersionTooLowError</a></li>
				
				
					<li><a href="../RWikiBot/Pages.html">RWikiBot::Pages</a></li>
				
				
					<li><a href="../RWikiBot/Pages/Page.html">RWikiBot::Pages::Page</a></li>
				
				
					<li><a href="../RWikiBot/Utilities.html">RWikiBot::Utilities</a></li>
				
				
					<li><a href="../Hash.html">Hash</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>
			
			
		</div>
	</div>

	<div id="documentation">
		
		<h1 class="class">RWikiBot::Bot</h1>
		

		<div id="description">
			
		</div>


		<!-- Constants -->
		

		<!-- Attributes -->
		
		<div id="attribute-method-details" class="method-section section">
			<h3 class="section-header">Attributes</h3>

			
			<div id="config-attribute-method" class="method-detail">
				<a name="config"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">config</span><span 
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p class="missing-docs">(Not documented)</p>
				
				</div>
			</div>
			
		</div>
		

		<!-- Methods -->
		
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		

		
			
			<div id="new-method" class="method-detail">
			
				<a name="new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span 
						class="method-args">(username='rwikibot', password='', api_path='http://www.rwikibot.net/wiki/api.php', domain='', login=false)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Creates a new <a href="Bot.html">Bot</a> object.
</p>
<p>
Arugments
</p>
<ul>
<li>username - Name to use when logging in to mediawiki API.

</li>
<li>password - Password to use when logging in to mediawiki API.

</li>
<li>api_path - URL of MediaWiki API to connect to.

</li>
<li>domain - Domain name for authentication purposes. You may need this if your
wiki is using something like the LDAP Authentication extension.

</li>
<li>login - Perform login as part of <a href="Bot.html">Bot</a> initialization?

</li>
</ul>
					
					
					
					<div class="method-source-code" 
						id="new-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/bot.rb, line 32</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">username</span>=<span class="ruby-value str">'rwikibot'</span>, <span class="ruby-identifier">password</span>=<span class="ruby-value str">''</span>, <span class="ruby-identifier">api_path</span>=<span class="ruby-value str">'http://www.rwikibot.net/wiki/api.php'</span>, <span class="ruby-identifier">domain</span>=<span class="ruby-value str">''</span>, <span class="ruby-identifier">login</span>=<span class="ruby-keyword kw">false</span>)
      <span class="ruby-ivar">@config</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>

      <span class="ruby-ivar">@config</span> = {
       <span class="ruby-value str">'username'</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">username</span>,
       <span class="ruby-value str">'password'</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">password</span>,
       <span class="ruby-value str">'api_path'</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">api_path</span>,
       <span class="ruby-value str">'domain'</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">domain</span>,
       <span class="ruby-value str">'cookies'</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>,
       <span class="ruby-value str">'logged_in'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>,
       <span class="ruby-value str">'uri'</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">api_path</span>)
      }

      <span class="ruby-ivar">@config</span>[<span class="ruby-value str">'api_version'</span>] = <span class="ruby-identifier">version</span>.<span class="ruby-identifier">to_f</span>

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">login</span>
        <span class="ruby-identifier">login</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		

		
			
			<div id="all-pages-method" class="method-detail">
			
				<a name="all_pages"></a>

				<div class="method-heading">
				
					<span class="method-name">all_pages</span><span 
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This will return a list of all pages in a given namespace. It returns a
list of pages in with the normalized title and page ID, suitable for usage
elsewhere. Accepts all parameters from the API in <a
href="../Hash.html">Hash</a> form. Default is namespace => 0, which is just
plain pages. Nothing &#8216;special&#8217;.
</p>
					
					
					
					<div class="method-source-code" 
						id="all-pages-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/bot.rb, line 96</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all_pages</span>(<span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">9</span>) 
      <span class="ruby-comment cmt"># This will get all pages. Limits vary based on user rights of the Bot. Set to bot.</span>
      <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">'list'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'allpages'</span>, <span class="ruby-value str">'apnamespace'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'0'</span>, <span class="ruby-value str">'aplimit'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'5000'</span>}
      <span class="ruby-identifier">post_me</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)
      <span class="ruby-identifier">allpages_result</span> = <span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'query'</span>, <span class="ruby-identifier">post_me</span>)
      <span class="ruby-identifier">allpages_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'allpages'</span>)[<span class="ruby-value str">'p'</span>]
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="log-events-method" class="method-detail">
			
				<a name="log_events"></a>

				<div class="method-heading">
				
					<span class="method-name">log_events</span><span 
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This will reutrn a list of the most recent log events. Useful for bots who
want to validate log events, or even just a notify bot that checks for
events and sends them off.
</p>
					
					
					
					<div class="method-source-code" 
						id="log-events-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/bot.rb, line 128</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log_events</span>(<span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">11</span>)
      <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">&quot;list&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;logevents&quot;</span>}
      <span class="ruby-identifier">post_me</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)
      <span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'query'</span>, <span class="ruby-identifier">post_me</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'logevents'</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'item'</span>)
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="login-method" class="method-detail">
			
				<a name="login"></a>

				<div class="method-heading">
				
					<span class="method-name">login</span><span 
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This is the method that will allow the bot to log in to the wiki. Its not
always necessary, but bots need to log in to save changes or retrieve
watchlists.
</p>
					
					
					
					<div class="method-source-code" 
						id="login-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/bot.rb, line 55</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">login</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">0</span>,<span class="ruby-value">0</span>)

      <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">'lgname'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-ivar">@config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'username'</span>),<span class="ruby-value str">'lgpassword'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-ivar">@config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'password'</span>)}
      <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@config</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">'domain'</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-ivar">@config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'domain'</span>) <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>)
        <span class="ruby-identifier">post_me</span>[<span class="ruby-value str">'lgdomain'</span>] = <span class="ruby-ivar">@config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'domain'</span>)
      <span class="ruby-keyword kw">end</span>

      <span class="ruby-identifier">login_result</span> = <span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'login'</span>, <span class="ruby-identifier">post_me</span>)

      <span class="ruby-comment cmt"># Now we need to changed some @config stuff, specifically that we're</span>
      <span class="ruby-comment cmt"># logged in and the variables of that This will also change the</span>
      <span class="ruby-comment cmt"># make_request, but I'll comment there</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">login_result</span>[<span class="ruby-value str">'result'</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;Success&quot;</span>
        <span class="ruby-comment cmt"># All lg variables are directly from API and stored in config that way</span>
        <span class="ruby-ivar">@config</span>[<span class="ruby-value str">'logged_in'</span>]    = <span class="ruby-keyword kw">true</span>
        <span class="ruby-ivar">@config</span>[<span class="ruby-value str">'lgusername'</span>]   = <span class="ruby-identifier">login_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'lgusername'</span>)
        <span class="ruby-ivar">@config</span>[<span class="ruby-value str">'lguserid'</span>]     = <span class="ruby-identifier">login_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'lguserid'</span>)
        <span class="ruby-ivar">@config</span>[<span class="ruby-value str">'lgtoken'</span>]      = <span class="ruby-identifier">login_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'lgtoken'</span>)
        <span class="ruby-ivar">@config</span>[<span class="ruby-value str">'_session'</span>]     = <span class="ruby-identifier">login_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'sessionid'</span>)
        <span class="ruby-ivar">@config</span>[<span class="ruby-value str">'cookieprefix'</span>] = <span class="ruby-identifier">login_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'cookieprefix'</span>)

        <span class="ruby-keyword kw">true</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-comment cmt"># puts &quot;Error logging in. Error was: &quot;</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">LoginError</span>, <span class="ruby-node">&quot;#{login_result['result']}: #{login_result['details']}&quot;</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="page-method" class="method-detail">
			
				<a name="page"></a>

				<div class="method-heading">
				
					<span class="method-name">page</span><span 
						class="method-args">(title='')</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Use Page to create a new page object that you can then manipulate. You
could create a page on it&#8217;s own, but if you do, be <em>sure</em> to
pass your bot along with the title, otherwise you won&#8217;t get access to
the super-fun make_request object that is pretty much required.
</p>
					
					
					
					<div class="method-source-code" 
						id="page-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/bot.rb, line 88</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">page</span>(<span class="ruby-identifier">title</span>=<span class="ruby-value str">''</span>)
      <span class="ruby-constant">Page</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">title</span>)
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="recent-changes-method" class="method-detail">
			
				<a name="recent_changes"></a>

				<div class="method-heading">
				
					<span class="method-name">recent_changes</span><span 
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This method will return Wiki-wide recent changes, almost as if looking at
the Special page Recent Changes. But, in this format, a bot can handle it.
Also we&#8217;re using the API. And bots can&#8217;t read.
</p>
					
					
					
					<div class="method-source-code" 
						id="recent-changes-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/bot.rb, line 118</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">recent_changes</span>(<span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">10</span>)
      <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">&quot;list&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;recentchanges&quot;</span>, <span class="ruby-value str">'rclimit'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'5000'</span>}
      <span class="ruby-identifier">post_me</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)
      <span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'query'</span> , <span class="ruby-identifier">post_me</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'recentchanges'</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'rc'</span>)
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="site-info-method" class="method-detail">
			
				<a name="site_info"></a>

				<div class="method-heading">
				
					<span class="method-name">site_info</span><span 
						class="method-args">(siprop='general')</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This is the only meta method. It will return site information. I chose not
to allow it to specify, and it will only return all known properties.
</p>
					
					
					
					<div class="method-source-code" 
						id="site-info-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/bot.rb, line 137</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">site_info</span>(<span class="ruby-identifier">siprop</span>=<span class="ruby-value str">'general'</span>)
      <span class="ruby-comment cmt">#raise VersionTooLowError unless meets_version_requirement(1,9)</span>
      <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">&quot;meta&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;siteinfo&quot;</span> , <span class="ruby-value str">&quot;siprop&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">siprop</span>}
      <span class="ruby-identifier">siteinfo_result</span> = <span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'query'</span>, <span class="ruby-identifier">post_me</span>)
      <span class="ruby-identifier">siprop</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'general'</span> <span class="ruby-operator">?</span>
        <span class="ruby-identifier">siteinfo_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'general'</span>) <span class="ruby-operator">:</span>
        <span class="ruby-identifier">siteinfo_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'namespaces'</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'ns'</span>)
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="user-info-method" class="method-detail">
			
				<a name="user_info"></a>

				<div class="method-heading">
				
					<span class="method-name">user_info</span><span 
						class="method-args">(uiprop=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Get information about the current user
</p>
					
					
					
					<div class="method-source-code" 
						id="user-info-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/bot.rb, line 147</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">user_info</span>(<span class="ruby-identifier">uiprop</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">11</span>)
      <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">&quot;meta&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;userinfo&quot;</span> }
      <span class="ruby-identifier">post_me</span>[<span class="ruby-value str">'uiprop'</span>] =  <span class="ruby-identifier">uiprop</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">uiprop</span>.<span class="ruby-identifier">nil?</span>

      <span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'query'</span>,<span class="ruby-identifier">post_me</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'userinfo'</span>)
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="watchlist-method" class="method-detail">
			
				<a name="watchlist"></a>

				<div class="method-heading">
				
					<span class="method-name">watchlist</span><span 
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This method will get the watchlist for the bot&#8217;s MediaWiki username.
This is really onlu useful if you want the bot to watch a specific list of
pages, and would require the bot maintainer to login to the wiki as the bot
to set the watchlist.
</p>
					
					
					
					<div class="method-source-code" 
						id="watchlist-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/bot.rb, line 109</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">watchlist</span>(<span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">10</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotLoggedInError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">logged_in?</span>
      <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">'list'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'watchlist'</span>}
      <span class="ruby-identifier">post_me</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)
      <span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'query'</span>, <span class="ruby-identifier">post_me</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'watchlist'</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'item'</span>)
    <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
		</div>
	
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with $DEBUG to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish 
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

