<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: RWikiBot::Pages::Page</title>

	<link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

	<script src="../../js/jquery.js" type="text/javascript" 
		charset="utf-8"></script>
	<script src="../../js/thickbox-compressed.js" type="text/javascript" 
		charset="utf-8"></script>
	<script src="../../js/quicksearch.js" type="text/javascript" 
		charset="utf-8"></script>
	<script src="../../js/darkfish.js" type="text/javascript" 
		charset="utf-8"></script>

</head>
<body class="class">
	
	<div id="metadata">
		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../../lib/rwikibot/pages.rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/rwikibot/pages.rb">lib/rwikibot/pages.rb</a></li>
					
					</ul>
				</div>
			</div>
			
			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#backlinks">backlinks</a></li>
					
					<li><a href="#content">content</a></li>
					
					<li><a href="#delete">delete</a></li>
					
					<li><a href="#embedded_in">embedded_in</a></li>
					
					<li><a href="#exists?">exists?</a></li>
					
					<li><a href="#info">info</a></li>
					
					<li><a href="#move">move</a></li>
					
					<li><a href="#new">new</a></li>
					
					<li><a href="#new?">new?</a></li>
					
					<li><a href="#protect">protect</a></li>
					
					<li><a href="#rollback">rollback</a></li>
					
					<li><a href="#save">save</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>
	
		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../../History.txt.html">History.txt</a></li>
				
					<li class="file"><a href="../../Manifest.txt.html">Manifest.txt</a></li>
				
					<li class="file"><a href="../../README.textile.html">README.textile</a></li>
				
					<li class="file"><a href="../../Rakefile.html">Rakefile</a></li>
				
					<li class="file"><a href="../../rwikibot.gemspec.html">rwikibot.gemspec</a></li>
				
					<li class="file"><a href="../../spec.opts.html">spec.opts</a></li>
				
					<li class="file"><a href="../../rspec.rake.html">rspec.rake</a></li>
				
				</ul>
			</div>
			
			
			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index 
					<span class="search-toggle"><img src="../../images/find.png" 
						height="16" width="16" alt="[+]" 
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value="" 
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
				
					<li><a href="../../RWikiBot.html">RWikiBot</a></li>
				
				
					<li><a href="../../RWikiBot/Bot.html">RWikiBot::Bot</a></li>
				
				
					<li><a href="../../RWikiBot/Errors.html">RWikiBot::Errors</a></li>
				
				
					<li><a href="../../RWikiBot/Errors/LoginError.html">RWikiBot::Errors::LoginError</a></li>
				
				
					<li><a href="../../RWikiBot/Errors/NotLoggedInError.html">RWikiBot::Errors::NotLoggedInError</a></li>
				
				
					<li><a href="../../RWikiBot/Errors/RWikiBotError.html">RWikiBot::Errors::RWikiBotError</a></li>
				
				
					<li><a href="../../RWikiBot/Errors/VersionTooLowError.html">RWikiBot::Errors::VersionTooLowError</a></li>
				
				
					<li><a href="../../RWikiBot/Pages.html">RWikiBot::Pages</a></li>
				
				
					<li><a href="../../RWikiBot/Pages/Page.html">RWikiBot::Pages::Page</a></li>
				
				
					<li><a href="../../RWikiBot/Utilities.html">RWikiBot::Utilities</a></li>
				
				
					<li><a href="../../Hash.html">Hash</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>
			
			
		</div>
	</div>

	<div id="documentation">
		
		<h1 class="class">RWikiBot::Pages::Page</h1>
		

		<div id="description">
			<p>
This class defines a MediaWiki page, which allows you to perform actions
related to a page, such as to retrieve an existing page or to create a new
one.
</p>

		</div>


		<!-- Constants -->
		

		<!-- Attributes -->
		
		<div id="attribute-method-details" class="method-section section">
			<h3 class="section-header">Attributes</h3>

			
			<div id="counter-attribute-method" class="method-detail">
				<a name="counter"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">counter</span><span 
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p class="missing-docs">(Not documented)</p>
				
				</div>
			</div>
			
			<div id="lastrevid-attribute-method" class="method-detail">
				<a name="lastrevid"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">lastrevid</span><span 
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p class="missing-docs">(Not documented)</p>
				
				</div>
			</div>
			
			<div id="length-attribute-method" class="method-detail">
				<a name="length"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">length</span><span 
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p class="missing-docs">(Not documented)</p>
				
				</div>
			</div>
			
			<div id="missing-attribute-method" class="method-detail">
				<a name="missing"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">missing</span><span 
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p class="missing-docs">(Not documented)</p>
				
				</div>
			</div>
			
			<div id="namespace-attribute-method" class="method-detail">
				<a name="namespace"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">namespace</span><span 
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p class="missing-docs">(Not documented)</p>
				
				</div>
			</div>
			
			<div id="new-attribute-method" class="method-detail">
				<a name="new"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">new</span><span 
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p class="missing-docs">(Not documented)</p>
				
				</div>
			</div>
			
			<div id="title-attribute-method" class="method-detail">
				<a name="title"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">title</span><span 
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p class="missing-docs">(Not documented)</p>
				
				</div>
			</div>
			
		</div>
		

		<!-- Methods -->
		
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		

		
			
			<div id="new-method" class="method-detail">
			
				<a name="new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span 
						class="method-args">(bot, title='')</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Creates a new <a href="Page.html">Page</a> object. It expects an <a
href="../../RWikiBot.html">RWikiBot</a> instance and a title.
</p>
					
					
					
					<div class="method-source-code" 
						id="new-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 12</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">bot</span>, <span class="ruby-identifier">title</span>=<span class="ruby-value str">''</span>)
        <span class="ruby-ivar">@bot</span> = <span class="ruby-identifier">bot</span>
        <span class="ruby-comment cmt">#puts @bot.config</span>
      
        <span class="ruby-identifier">info</span> = <span class="ruby-identifier">info</span>(<span class="ruby-identifier">title</span>)
        <span class="ruby-ivar">@title</span>      = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'title'</span>]
        <span class="ruby-ivar">@namespace</span>  = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'ns'</span>].<span class="ruby-identifier">to_i</span>
        <span class="ruby-ivar">@new</span>        = <span class="ruby-identifier">info</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">'new'</span>)
        <span class="ruby-ivar">@length</span>     = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'length'</span>].<span class="ruby-identifier">to_i</span>
        <span class="ruby-ivar">@counter</span>    = <span class="ruby-identifier">info</span> [<span class="ruby-value str">'counter'</span>].<span class="ruby-identifier">to_i</span>
        <span class="ruby-ivar">@lastrevid</span>  = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'lastrevid'</span>].<span class="ruby-identifier">to_i</span>
        <span class="ruby-ivar">@missing</span>    = <span class="ruby-identifier">info</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">'missing'</span>)
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		

		
			
			<div id="backlinks-method" class="method-detail">
			
				<a name="backlinks"></a>

				<div class="method-heading">
				
					<span class="method-name">backlinks</span><span 
						class="method-args">(titles, options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This method fetches any article that links to the article given in
&#8216;title&#8217;. Returned in alphabetical order.
</p>
					
					
					
					<div class="method-source-code" 
						id="backlinks-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 61</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">backlinks</span> (<span class="ruby-identifier">titles</span>, <span class="ruby-identifier">options</span> = {})
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">9</span>)

        <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">'list'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'backlinks'</span>, <span class="ruby-value str">'titles'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{title}&quot;</span> }

        <span class="ruby-identifier">post_me</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)

        <span class="ruby-identifier">backlinks_result</span> = <span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'query'</span>, <span class="ruby-identifier">post_me</span>)

        <span class="ruby-identifier">backlinks_result</span>.<span class="ruby-identifier">success?</span> <span class="ruby-value">?
</span>          <span class="ruby-identifier">backlinks_result</span>.<span class="ruby-identifier">get_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'backlinks'</span>) <span class="ruby-operator">:</span>
          <span class="ruby-identifier">backlinks_result</span>.<span class="ruby-identifier">get_message</span>
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="content-method" class="method-detail">
			
				<a name="content"></a>

				<div class="method-heading">
				
					<span class="method-name">content</span><span 
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This will get only the content of the article. It is a modification of
revisions to specifically pull the content. I thought it would be useful.
</p>
					
					
					
					<div class="method-source-code" 
						id="content-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 34</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content</span>(<span class="ruby-identifier">options</span> = {})
        <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">'prop'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'revisions'</span>, <span class="ruby-value str">'titles'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@title</span>, <span class="ruby-value str">'rvprop'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'content'</span>}

        <span class="ruby-identifier">post_me</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)

        <span class="ruby-identifier">revisions_result</span> = <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'query'</span>, <span class="ruby-identifier">post_me</span> )
        <span class="ruby-identifier">revisions_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'pages'</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'page'</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'revisions'</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'rev'</span>)
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="delete-method" class="method-detail">
			
				<a name="delete"></a>

				<div class="method-heading">
				
					<span class="method-name">delete</span><span 
						class="method-args">(reason=&quot;Deleted by RWikiBot&quot;)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
If you have to ask what this method does, don&#8217;t use it. Seriously,
use with caution - this method does not have a confirmation step, and
deleted (while restorable) are immediate.
</p>
					
					
					
					<div class="method-source-code" 
						id="delete-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 46</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">reason</span>=<span class="ruby-value str">&quot;Deleted by RWikiBot&quot;</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">12</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">NotLoggedInError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">logged_in?</span>

        <span class="ruby-identifier">post_me</span> = {
          <span class="ruby-value str">'title'</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@title</span> ,
          <span class="ruby-value str">'token'</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">get_token</span>(<span class="ruby-value str">'delete'</span>) ,
          <span class="ruby-value str">'reason'</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">reason</span>
        }

        <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'delete'</span>, <span class="ruby-identifier">post_me</span>)
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="embedded-in-method" class="method-detail">
			
				<a name="embedded_in"></a>

				<div class="method-heading">
				
					<span class="method-name">embedded_in</span><span 
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This method pulls any page that includes the template requested. Please
note - the template must be the full name, like
&#8220;Template:Disputed&#8221; or &#8220;Template:Awesome&#8221;.
</p>
					
					
					
					<div class="method-source-code" 
						id="embedded-in-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 78</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">embedded_in</span>(<span class="ruby-identifier">options</span> = {})
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">9</span>)

        <span class="ruby-comment cmt"># This will get all pages. Limits vary based on user rights of the Bot. Set to bot.</span>
        <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">'list'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'embeddedin'</span>, <span class="ruby-value str">'eititle'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@title</span> }

        <span class="ruby-identifier">post_me</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)

        <span class="ruby-identifier">embeddedin_result</span> = <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'query'</span>, <span class="ruby-identifier">post_me</span>)
        <span class="ruby-identifier">embeddedin_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'embeddedin'</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'ei'</span>)
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="exists--method" class="method-detail">
			
				<a name="exists?"></a>

				<div class="method-heading">
				
					<span class="method-name">exists?</span><span 
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Whether the page already exists
</p>
					
					
					
					<div class="method-source-code" 
						id="exists--source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 27</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exists?</span>
        <span class="ruby-operator">!</span><span class="ruby-ivar">@missing</span>
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="info-method" class="method-detail">
			
				<a name="info"></a>

				<div class="method-heading">
				
					<span class="method-name">info</span><span 
						class="method-args">(titles)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
I decided to split this up since I wanted to normalize the bot framework as
much as possible, or in other words, make it as easy to use as possible. I
think the sacrifice of more methods is worth having more English looking
code. Its the Ruby way. Info will return information about the page, from
namespace to normalized title, last touched, etc.
</p>
					
					
					
					<div class="method-source-code" 
						id="info-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 92</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">info</span>(<span class="ruby-identifier">titles</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">9</span>)
      
        <span class="ruby-identifier">post_me</span> = {<span class="ruby-value str">&quot;prop&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;info&quot;</span>, <span class="ruby-value str">'titles'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">titles</span>}
        <span class="ruby-identifier">info_result</span> = <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'query'</span>, <span class="ruby-identifier">post_me</span>)
        <span class="ruby-identifier">info_result</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'pages'</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'page'</span>)
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="move-method" class="method-detail">
			
				<a name="move"></a>

				<div class="method-heading">
				
					<span class="method-name">move</span><span 
						class="method-args">(to, reason, movetalk= true, noredirect=false)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This method will let you move a page from one name to another. A move token
is required for this to work. Keep that in mind. (get_token much?)
</p>
					
					
					
					<div class="method-source-code" 
						id="move-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 101</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move</span>(<span class="ruby-identifier">to</span>, <span class="ruby-identifier">reason</span>, <span class="ruby-identifier">movetalk</span>= <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">noredirect</span>=<span class="ruby-keyword kw">false</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">12</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">NotLoggedInError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">logged_in?</span>

        <span class="ruby-identifier">post_me</span> = {
          <span class="ruby-value str">'from'</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@title</span> ,
          <span class="ruby-value str">'to'</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{to}&quot;</span> ,
          <span class="ruby-value str">'token'</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">get_token</span>(<span class="ruby-value str">'move'</span>) ,
          <span class="ruby-value str">'reason'</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{reason}&quot;</span> ,
        }

        <span class="ruby-comment cmt"># These ifs are necessary because they should only be part of post_me if</span>
        <span class="ruby-comment cmt"># the passed vars are true (which they are by default)</span>
        <span class="ruby-identifier">post_me</span>[<span class="ruby-value str">'movetalk'</span>]   = <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">movetalk</span>
        <span class="ruby-identifier">post_me</span>[<span class="ruby-value str">'noredirect'</span>] = <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">noredirect</span>

        <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'move'</span>, <span class="ruby-identifier">post_me</span>)
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="new--method" class="method-detail">
			
				<a name="new?"></a>

				<div class="method-heading">
				
					<span class="method-name">new?</span><span 
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Flag whether the page is new or not.
</p>
					
					
					
					<div class="method-source-code" 
						id="new--source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 121</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new?</span>
        <span class="ruby-ivar">@new</span>
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="protect-method" class="method-detail">
			
				<a name="protect"></a>

				<div class="method-heading">
				
					<span class="method-name">protect</span><span 
						class="method-args">(protections='edit=sysop', expiry='infinite', reason='', cascade=true)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This method is used to protect (and unprotect!) pages. See the API for
possible values. By default, it will lock a page to require sysop level
privledge and never expire.
</p>
					
					
					
					<div class="method-source-code" 
						id="protect-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 128</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">protect</span>(<span class="ruby-identifier">protections</span>=<span class="ruby-value str">'edit=sysop'</span>, <span class="ruby-identifier">expiry</span>=<span class="ruby-value str">'infinite'</span>, <span class="ruby-identifier">reason</span>=<span class="ruby-value str">''</span>, <span class="ruby-identifier">cascade</span>=<span class="ruby-keyword kw">true</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">12</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">NotLoggedInError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">logged_in?</span>

        <span class="ruby-identifier">post_me</span> = {
          <span class="ruby-value str">'title'</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@title</span> ,
          <span class="ruby-value str">'token'</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">get_token</span>(<span class="ruby-value str">'protect'</span>) ,
          <span class="ruby-value str">'protections'</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">protections</span> ,
          <span class="ruby-value str">'expiry'</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">expiry</span> ,
          <span class="ruby-value str">'reason'</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">reason</span> ,
        }
      
        <span class="ruby-identifier">post_me</span>[<span class="ruby-value str">'cascade'</span>] = <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cascade</span>
        <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'protect'</span>, <span class="ruby-identifier">post_me</span>)
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="rollback-method" class="method-detail">
			
				<a name="rollback"></a>

				<div class="method-heading">
				
					<span class="method-name">rollback</span><span 
						class="method-args">(summary=&quot;&quot;, markbot=true)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Rollback does what it says - rolls back an article one version in the wiki.
This is a function that requires not only a token, but a previous user.
</p>
					
					
					
					<div class="method-source-code" 
						id="rollback-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 147</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rollback</span>(<span class="ruby-identifier">summary</span>=<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">markbot</span>=<span class="ruby-keyword kw">true</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">12</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">NotLoggedInError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">logged_in?</span>

        <span class="ruby-identifier">temp_token</span> = <span class="ruby-identifier">get_token</span>(<span class="ruby-value str">&quot;rollback&quot;</span>) <span class="ruby-comment cmt"># special for rollback. Stupid rollback.</span>
        <span class="ruby-identifier">post_me</span> = {
          <span class="ruby-value str">'title'</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@title</span>,
          <span class="ruby-value str">'token'</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">temp_token</span>[<span class="ruby-value str">'token'</span>],
          <span class="ruby-value str">'user'</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">temp_token</span>[<span class="ruby-value str">'user'</span>],
          <span class="ruby-value str">'summary'</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">summary</span>
        }

        <span class="ruby-identifier">post_me</span>[<span class="ruby-value str">'markbot'</span>] = <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">markbots</span>
        <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'rollback'</span>, <span class="ruby-identifier">post_me</span>)
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		

		
			
			<div id="save-method" class="method-detail">
			
				<a name="save"></a>

				<div class="method-heading">
				
					<span class="method-name">save</span><span 
						class="method-args">(content, summary = '', options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This method is used to edit pages. Not much more to say about it. Be sure
you&#8217;re logged in and got a token (get_token). Options is an array (or
hash) of extra values allowed by the API.
</p>
					
					
					
					<div class="method-source-code" 
						id="save-source">
<pre>
<span class="ruby-comment cmt"># File lib/rwikibot/pages.rb, line 166</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save</span>(<span class="ruby-identifier">content</span>, <span class="ruby-identifier">summary</span> = <span class="ruby-value str">''</span>, <span class="ruby-identifier">options</span> = {})
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">VersionTooLowError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">meets_version_requirement</span>(<span class="ruby-value">1</span>,<span class="ruby-value">13</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RWBErrors</span><span class="ruby-operator">::</span><span class="ruby-constant">NotLoggedInError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">logged_in?</span>

        <span class="ruby-identifier">post_me</span> = {
          <span class="ruby-value str">'text'</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{content}&quot;</span> ,
          <span class="ruby-value str">'token'</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">get_token</span>(<span class="ruby-value str">&quot;edit&quot;</span>) ,
          <span class="ruby-value str">'title'</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@title</span> ,
          <span class="ruby-value str">'summary'</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{summary}&quot;</span> ,
          <span class="ruby-value str">'edittime'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-value str">&quot;%Y%m%d%H%M%S&quot;</span>) ,
        }

        <span class="ruby-identifier">post_me</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)

        <span class="ruby-ivar">@bot</span>.<span class="ruby-identifier">make_request</span>(<span class="ruby-value str">'edit'</span>, <span class="ruby-identifier">post_me</span>).<span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'result'</span>)
      <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
		</div>
	
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with $DEBUG to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish 
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

